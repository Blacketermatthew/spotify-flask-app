{% extends "layout.html" %}


{% block head %}

    <title>Spotify Missed Connections</title>

{% endblock %}


{% block body %}





<div class="db-list">


    {% if total_tracks %}

    <!-- Main Text-->
    <h1 class="maintext">Here are some songs you might've missed:</h1>
    
    <table>

        <thead>
            <tr class="head-row">
                <th>Artist</th>
                <th>Track</th>
                <th>Album</th>
            </tr>
        </thead>

        <tbody>
            {% for track in total_tracks %}

                <tr class="clickable-row" onclick="openInNewTab('{{ track[4] }}');">  <!-- Opens track URL in new tab -->
                    <script>
                        function openInNewTab(url) {
                            var win = window.open(url, '_blank');
                            win.focus(); }
                    </script>

                    <td>
                        <!-- Artist -->
                        {{ track[0] }}
                    </td>
                    <td>
                        <!-- Title -->
                        {{ track[1] }}
                    </td>
                    <td>
                        <!-- Album -->
                        {{ track[2] }}
                    </td>

                </tr>

            {% endfor %}
        </tbody>
    </table>

    {% endif %}

</div>


{% endblock %}

